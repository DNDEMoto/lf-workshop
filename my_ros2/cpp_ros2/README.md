this codes is copied from https://github.com/lf-lang/playground-lingua-franca/tree/main/examples/Cpp/ROS2/src